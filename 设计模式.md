# java设计模式
```
by fanfuni 2020/4/12
在此感谢狂神说java老师

```
## 单例模式
在有些系统中，为了节省内存资源、保证数据内容的一致性，对某些类要求只能创建一个实例，这就是所谓的单例模式。
### 特点
- 单例类只有一个实例对象；
- 该单例对象必须由单例类自行创建；
- 单例类对外提供一个访问该单例的全局访问点；

### 饿汉模式
```
public class hungryMan {
    
    // 额外资源
    private  byte[]data1 = new byte[1024*1024];

    // 只能有一个实例对象，所以构造器私有
    private  hungryMan(){

    }
    //只能有一个，且自行创建
    public final static hungryMan HUNGRY_MAN = new hungryMan();

    //提供一个向外接口
    public static hungryMan getInstance(){
        return  HUNGRY_MAN;
    }
}

```
这种模式会存在一个问题是，该类创建的同时就创建好了一个静态对象供调用。如果该类中有过多的额外资源，会造成空间的浪费。

于是出现了 以下方式,懒汉模式，只在使用时被加载
### 懒汉模式
```
public class LazyMan {

    private LazyMan(){}    //private 避免类在外部被实例化

    private static volatile LazyMan instance=null;    //保证 instance 在所有线程中同步
    
    public static synchronized LazyMan getInstance()
    {
        //getInstance 方法前加同步
        if(instance==null)
        {
            instance=new LazyMan();
        }
        return instance;
    }
}
```
### 应用场景
- 在应用场景中，某类只要求生成一个对象的时候，如一个班中的班长、每个人的身份证号等。
- 当对象需要被共享的场合。由于单例模式只允许创建一个对象，共享该对象可以节省内存，并加快对象访问速度。如 Web 中的配置对象、数据库的连接池等。
- 当某类需要频繁实例化，而创建的对象又频繁被销毁的时候，如多线程的线程池、网络连接池等。

## 工厂模式
